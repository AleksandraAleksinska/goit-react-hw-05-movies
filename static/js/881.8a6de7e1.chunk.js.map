{"version":3,"file":"static/js/881.8a6de7e1.chunk.js","mappings":"oMACA,EAA4B,6BAA5B,EAAyE,iCAAzE,EAAsH,6B,SCoBtH,EAfkB,SAAC,GAAiB,IAAhBA,EAAe,EAAfA,UACVC,GAAWC,EAAAA,EAAAA,MACnB,OACE,SAAC,EAAAC,SAAD,WACA,eAAIC,UAAWC,EAAf,SACGL,EAAUM,KAAI,SAACC,GAAD,OACb,eAAIH,UAAWC,EAAf,UACI,SAAC,KAAD,CAAMD,UAAWC,EAAeG,GAAE,kBAAaD,EAAME,IAAMC,MAAO,CAAEC,KAAMV,GAA1E,SAAwFM,EAAMK,SAD3DL,EAAME,GADhC,OAQpB,C,8IClBD,EAA4B,0BAA5B,EAAqE,6B,SCmDrE,EA9Ce,WAEb,OAAwCI,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA0CC,EAAAA,EAAAA,UAAS,IAAnD,eAAOC,EAAP,KAAsBC,EAAtB,KAEMC,EAAgB,mCAAG,sGAGT,mCAHS,SAIEC,EAAAA,EAAAA,IAAA,0DAC8BN,EAAaO,IAAI,SAD/C,oBADX,qCAHS,OAIfC,EAJe,OAOfC,EAASD,EAASE,KAAKC,QAC7BP,EAAiBK,GARI,gDAUrBG,QAAQC,IAAI,KAAMC,SAVG,yDAAH,qDA2BtB,OALAC,EAAAA,EAAAA,YAAU,WACRf,EAAaO,IAAI,UAAYF,GAC9B,KAIC,UAAC,EAAAhB,SAAD,YACE,kBAAMC,UAAWC,EAAeyB,SAfb,SAACC,GACtBA,EAAEC,iBACF,IAAMC,EAAOF,EAAEG,cACfnB,EAAgB,CAAEoB,MAAOJ,EAAEK,OAAO,GAAGC,QAErCJ,EAAKK,OACN,EASG,WACE,kBACEC,KAAK,OACLC,KAAK,WAEP,mBAAQpC,UAAWC,EAAiBkC,KAAK,SAAzC,wBAEF,SAACE,EAAA,EAAD,CAAWzC,UAAWiB,MAG3B,C","sources":["webpack://react-homework-template/./src/components/MovieList/MovieList.module.css?6db5","components/MovieList/MovieList.jsx","webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieList\":\"MovieList_movieList__uFrOZ\",\"movieListItem\":\"MovieList_movieListItem__6DqRG\",\"movieLink\":\"MovieList_movieLink__kzavH\"};","import React, { Fragment } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport PropTypes from \"prop-types\";\nimport css from './MovieList.module.css';\n\n\nconst MovieList = ({movieList}) => {\n    const location = useLocation()\n  return (\n    <Fragment>\n    <ul className={css.movieList}>\n      {movieList.map((movie) => \n        <li className={css.movieListItem} key={movie.id}>\n            <Link className={css.movieLink} to={`/movies/${movie.id}`} state={{ from: location }} >{movie.title}</Link>  \n        </li>\n        )}\n    </ul>\n    </Fragment>\n  )\n}\n\nexport default MovieList\n\nMovieList.propTypes ={\n  movieList: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired,\n  })),\n  \n}","// extracted by mini-css-extract-plugin\nexport default {\"searchBar\":\"Movies_searchBar__7rhTU\",\"searchButton\":\"Movies_searchButton__ieSHM\"};","import React, { Fragment, useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport axios from 'axios';\nimport MovieList from 'components/MovieList/MovieList';\nimport css from './Movies.module.css'\n\nconst Movies = () => {\n  \n  const [searchParams, setSearchParams] = useSearchParams();\n  const [moviesByQuery, setMoviesByQuery] = useState([]);\n \n  const getMoviesByQuery = async () => {\n \n    try {\n      const key = 'dce0b8b37fbd78cdab3203c47fa0e91b';\n      const response = await axios.get(\n        `https://api.themoviedb.org/3/search/movie?query=${searchParams.get('query')}&api_key=${key}`\n      );\n      const movies = response.data.results;\n      setMoviesByQuery(movies);\n    } catch (error) {\n      console.log(error.message);\n    }\n  };\n\n    const handleSubmit = (e) => {\n    e.preventDefault();\n    const form = e.currentTarget;\n    setSearchParams({ query: e.target[0].value });   \n    \n    form.reset();\n  };\n\n  useEffect(() => {\n    searchParams.get('query') && getMoviesByQuery()\n  },);\n\n\n  return (\n    <Fragment>\n      <form className={css.searchBar} onSubmit={handleSubmit}>\n        <input \n          type=\"text\"\n          name=\"query\"\n        ></input>\n        <button className={css.searchButton}type=\"submit\">Search</button>\n      </form>\n      <MovieList movieList={moviesByQuery} />\n    </Fragment>\n  );\n};\n\nexport default Movies;"],"names":["movieList","location","useLocation","Fragment","className","css","map","movie","to","id","state","from","title","useSearchParams","searchParams","setSearchParams","useState","moviesByQuery","setMoviesByQuery","getMoviesByQuery","axios","get","response","movies","data","results","console","log","message","useEffect","onSubmit","e","preventDefault","form","currentTarget","query","target","value","reset","type","name","MovieList"],"sourceRoot":""}