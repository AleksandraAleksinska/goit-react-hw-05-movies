{"version":3,"file":"static/js/135.a97e467e.chunk.js","mappings":"qPACA,EAA2B,+BAA3B,EAA4E,sCAA5E,EAA+H,iCAA/H,EAAmL,uCAAnL,EAA2O,qCAA3O,EAAqS,yCAArS,EAA+V,qCAA/V,EAAiZ,iCAAjZ,EAA2b,6B,kBC2F3b,EArFqB,WAEjB,IAAQA,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAAkDE,EAAAA,EAAAA,UAAS,IAA3D,eAAQC,EAAR,KAA0BC,EAA1B,KACA,GAAwCF,EAAAA,EAAAA,UAAS,IAAjD,eAAQG,EAAR,KAAqBC,EAArB,KACA,GAAkDJ,EAAAA,EAAAA,UAAS,IAA3D,eAAQK,EAAR,KAA0BC,EAA1B,KACA,GAAoCN,EAAAA,EAAAA,UAAS,MAA7C,eAAQO,EAAR,KAAmBC,EAAnB,KAEMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,GAAcC,EAAAA,EAAAA,QAAOL,GAwC7B,OA5BEM,EAAAA,EAAAA,YAAU,WAER,IAAMC,EAAe,mCAAG,4GAGR,mCAHQ,SAIGC,EAAAA,EAAAA,IAAA,6CAAgDnB,EAAhD,oBADX,qCAHQ,OAIdoB,EAJc,OAKdC,EAAeD,EAASE,KACxBjB,EAAce,EAASE,KAAKC,OAC5BhB,EAAmBa,EAASE,KAAKE,aACjCC,EAAiBL,EAASE,KAAKI,aAErCtB,EAAoBiB,GACpBf,EAAeD,GACfG,EAAoBD,GACpBG,EAAae,GAbO,kDAiBpBE,QAAQC,IAAI,KAAMC,SAjBE,0DAAH,qDAqBtBX,GACA,GAAE,CAAClB,KAMJ,UAAC,EAAA8B,SAAD,YACG,mBAAQC,UAAWC,EAAgBC,QAxCvB,WAAO,IAAD,EACnB,UAAItB,EAASuB,aAAb,OAAI,EAAgBC,KAClBtB,EAASF,EAASuB,MAAMC,MAExBtB,EAASE,EAAYqB,QAAQF,MAAMC,KAEtC,EAkCE,sBACC,iBAAKJ,UAAWC,EAAhB,UACC7B,EAAiBkC,cAChB,gBAAKN,UAAWC,EAAcM,IAAG,0CAAqCnC,EAAiBkC,aAAeE,IAAKpC,EAAiBqC,SAE5H,4BACE,gBAAIT,UAAWC,EAAf,UAAgC7B,EAAiBqC,MAAjD,KAA0DjC,EAAiBkC,MAAM,EAAE,GAAnF,QACA,yCAAe,uBAAIC,OAAOjC,GAAWkC,QAAQ,SAC7C,sCACA,uBAAIxC,EAAiByC,YACtB,mCACEvC,EAAYwC,OAAS,EAAIxC,EAAYyC,KAAI,SAACC,GAAD,OAAWA,EAAMC,IAAjB,IAAuBC,KAAK,KAAO,aAGjF,4BACE,cAAGlB,UAAWC,EAAd,qCACA,gBAAID,UAAWC,EAAf,WACE,eAAID,UAAWC,EAAf,UACE,SAAC,KAAD,CAASD,UAAW,SAACmB,GAAD,OAAcA,EAAQC,SAAWnB,EAAaA,CAA9C,EAAkEoB,GAAG,OAAzF,qBAEF,eAAIrB,UAAWC,EAAf,UACE,SAAC,KAAD,CAASD,UAAW,SAACmB,GAAD,OAAcA,EAAQC,SAAWnB,EAAaA,CAA9C,EAAmEoB,GAAG,UAA1F,2BAGJ,SAAC,EAAAC,SAAD,CAAUC,UAAU,wCAApB,UACE,SAAC,KAAD,WAKX,C","sources":["webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieImg\":\"MovieDetails_movieImg__5UJtY\",\"movieDetailsBox\":\"MovieDetails_movieDetailsBox__mNLje\",\"backButton\":\"MovieDetails_backButton__pPF5M\",\"additionalHeader\":\"MovieDetails_additionalHeader__GYxO-\",\"additionalList\":\"MovieDetails_additionalList__0IfAN\",\"additionalListItem\":\"MovieDetails_additionalListItem__NSRDd\",\"additionalLink\":\"MovieDetails_additionalLink__4ZR-w\",\"movieTitle\":\"MovieDetails_movieTitle__0CAOT\",\"active\":\"MovieDetails_active__uPNdW\"};","import React from 'react';\nimport { useState, useEffect, Fragment, Suspense, useRef } from 'react';\nimport { useParams, NavLink, Outlet, useNavigate, useLocation } from \"react-router-dom\";\nimport css from './MovieDetails.module.css'\nimport axios from 'axios';\n\n\nconst MovieDetails = () => {\n\n    const { movieId } = useParams();\n    const [ movieDetailsById, setMovieDetailsById ] = useState([]);\n    const [ movieGenres, setMovieGenres ] = useState([]);\n    const [ movieReleaseYear, setMovieReleaseYear ] = useState('');\n    const [ userScore, setUserScore ] = useState(null)\n    \n    const location = useLocation()\n    const navigate = useNavigate();\n    const locationRef = useRef(location);\n\n\n    const goBack = () => {\n      if (location.state?.from) {\n        navigate(location.state.from);\n      } else {\n        navigate(locationRef.current.state.from);\n      } \n    };\n      \n\n    useEffect(() => {\n\n      const getMovieDetails = async() => {\n\n        try {\n          const key = 'dce0b8b37fbd78cdab3203c47fa0e91b';\n          const response = await axios.get(`https://api.themoviedb.org/3/movie/${movieId}?api_key=${key}`);\n          const movieDetails = response.data;\n          const movieGenres = response.data.genres;\n          const movieReleaseYear = response.data.release_date;\n          const movieUserScore = response.data.vote_average;\n       \n          setMovieDetailsById(movieDetails);\n          setMovieGenres(movieGenres);\n          setMovieReleaseYear(movieReleaseYear);\n          setUserScore(movieUserScore)\n\n        }\n        catch(error) {\n          console.log(error.message)\n        }\n\n      }\n     getMovieDetails() \n    }, [movieId])\n  \n\n   \n  return (\n      \n    <Fragment>\n       <button className={css.backButton} onClick={goBack} >Go back</button>\n        <div className={css.movieDetailsBox}>\n        {movieDetailsById.poster_path && (\n          <img className={css.movieImg} src={`https://image.tmdb.org/t/p/w500/${movieDetailsById.poster_path}`} alt={movieDetailsById.title} />\n        )}\n          <div>\n            <h2 className={css.movieTitle}>{movieDetailsById.title} ({movieReleaseYear.slice(0,4)})</h2>\n            <p>User score: <b>{Number(userScore).toFixed(2)}</b></p>\n            <h3>Overview</h3>\n            <p>{movieDetailsById.overview}</p>\n           <h4>Genres</h4>\n            {movieGenres.length > 0 ? movieGenres.map((genre) => genre.name).join(' ') : '---'}\n        </div> \n        </div>\n        <div>\n          <p className={css.additionalHeader}>Additional information</p>\n          <ul className={css.additionalList}>\n            <li className={css.additionalListItem}>\n              <NavLink className={(navData) => (navData.isActive ? css.active : css.additionalLink)}to='cast'>Cast</NavLink>\n            </li>\n            <li className={css.additionalListItem}>\n              <NavLink className={(navData) => (navData.isActive ? css.active : css.additionalLink)} to='reviews'>Reviews</NavLink>\n            </li>\n          </ul>\n          <Suspense fallback={<p>'Loading...'</p>}>\n            <Outlet />\n          </Suspense>\n        </div>\n    </Fragment>\n  )\n}\n\nexport default MovieDetails"],"names":["movieId","useParams","useState","movieDetailsById","setMovieDetailsById","movieGenres","setMovieGenres","movieReleaseYear","setMovieReleaseYear","userScore","setUserScore","location","useLocation","navigate","useNavigate","locationRef","useRef","useEffect","getMovieDetails","axios","response","movieDetails","data","genres","release_date","movieUserScore","vote_average","console","log","message","Fragment","className","css","onClick","state","from","current","poster_path","src","alt","title","slice","Number","toFixed","overview","length","map","genre","name","join","navData","isActive","to","Suspense","fallback"],"sourceRoot":""}